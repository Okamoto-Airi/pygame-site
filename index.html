<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pygameサイト</title>
    <!-- Tailwind CSS CDNを読み込み -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- 外部CSSファイルを読み込み -->
    <link rel="stylesheet" href="styles/last.css">
    <style>
        /* 背景画像をセクション全体に広げるためのスタイル */
        .section-background-image {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover; /* 画像がコンテナを覆うように調整 */
            z-index: -2; /* コンテンツと動画の背後に配置 */
        }

        /* 上に戻るボタンの浮遊アニメーション */
        @keyframes float {
            0% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
            100% { transform: translateY(0px); }
        }

        .float-animation {
            animation: float 2s ease-in-out infinite;
        }
    </style>
</head>
<body class="font-sans antialiased text-gray-800">

    <!-- ヘッダー -->
    <header id="main-header"
        class="fixed top-0 left-0 right-0 z-50 bg-white bg-opacity-90 backdrop-blur-sm p-4 shadow-lg">
        <nav class="container mx-auto flex justify-between items-center">
            <img src="images/pygame.png" alt="Pygame Logo" class="h-10" />
            <div class="hidden md:flex space-x-4">
                <a href="#section1"
                    class="text-white hover:text-lime-500 px-4 py-2 rounded-md transition-colors duration-300 font-mono font-extrabold">ステージ1</a>
                <a href="#section2"
                    class="text-white hover:text-lime-500 px-4 py-2 rounded-md transition-colors duration-300 font-mono font-extrabold">ステージ2</a>
                <a href="#section3"
                    class="text-white hover:text-lime-500 px-4 py-2 rounded-md transition-colors duration-300 font-mono font-extrabold">ステージ3</a>
            </div>
        </nav>

        <!-- モバイルメニュー (初期状態は非表示) -->
        <div id="mobile-menu" class="fixed top-0 left-0 w-full h-full bg-white bg-opacity-95 backdrop-blur-md z-40 transform -translate-x-full transition-transform duration-300 ease-in-out flex flex-col items-center justify-center space-y-8 md:hidden">
            <button id="close-menu-btn" class="absolute top-4 right-4 text-gray-700 hover:text-blue-600 focus:outline-none">
                <svg class="w-8 h-8" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                </svg>
            </button>
            <a href="#section1" class="text-3xl font-bold text-gray-700 hover:text-blue-600 transition-colors duration-300" data-menu-link>セクション1</a>
            <a href="#section2" class="text-3xl font-bold text-gray-700 hover:text-blue-600 transition-colors duration-300" data-menu-link>セクション2</a>
            <a href="#section3" class="text-3xl font-bold text-gray-700 hover:text-blue-600 transition-colors duration-300" data-menu-link>セクション3</a>
        </div>
    </header>

    <!-- メインコンテンツ -->
    <main>
        <!-- セクション1 -->
        <section id="section1"
            class="relative dynamic-height-section flex flex-col justify-center items-center overflow-hidden">
            <!-- 背景画像 -->
            <img src="images/Blue-sky-and-grassland1.jpg" alt="Section 1 Background" class="section-background-image">

            <!-- コンテンツラッパー: アニメーションの対象 -->
            <div
                class="content-wrapper relative z-10 text-white text-center p-4 sm:p-8 flex flex-col justify-center items-center w-full h-full">
                <!-- 説明テキスト部（中央付近） -->
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg font-mono font-extrabold">
                        タイトル</h2>
                    <p
                        class="text-base sm:text-lg md:text-xl mb-8 leading-relaxed drop-shadow-md font-mono font-extrabold">
                        矢印キーでキャラクターを移動し、スペースキーで攻撃<br>
                        敵の攻撃に3回当たるとゲームオーバー。敵を倒してゲームクリア！
                    </p>
                </div>

                <!-- 動画部（セクション中央下部）とボタン（動画上に表示） -->
                <div
                    class="video-player-container relative w-full max-w-2xl mx-auto rounded-lg overflow-hidden shadow-2xl bg-black flex-grow h-0 border-4 border-stone-500">
                    <video autoplay loop muted playsinline class="w-full h-full object-contain"
                        onerror="console.error('Video failed to load:', this.src);">
                        <source src="video/sample.mp4" type="video/mp4">
                        あなたのブラウザは動画タグをサポートしていません。
                    </video>
                    <a href="https://okamoto-airi.github.io/web-pygame_level1_PC/" target="_blank" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black hover:bg-lime-500 text-lime-500 hover:text-black font-bold py-2 px-6 sm:py-3 sm:px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105
                    font-mono font-extrabold">
                        ステージ1をプレイ！（PC版）
                    </a>
                </div>

                <!-- ステッカー画像 (セクション1用) -->
                <img src="images/majo_cat_houki.png" alt="Sticker 1"
                    class="absolute top-1/2 left-1/4 transform -translate-x-1/2 -translate-y-1/2 w-40 h-50 object-cover">
                <img src="images/alien_ufo.png" alt="Sticker 2"
                    class="absolute bottom-1/4 right-1/4 transform translate-x-1/2 translate-y-1/2 w-40 h-50 object-cover">
            </div>
        </section>

        <!-- セクション2 -->
        <section id="section2"
            class="relative dynamic-height-section flex flex-col justify-center items-center overflow-hidden">
            <!-- 背景画像 -->
            <img src="images/Thunderclouds-and-lightning-on-the-grassland3.jpg" alt="Section 2 Background"
                class="section-background-image">

            <!-- レスポンシブなパディングを追加: sm:p-4 md:p-8 -->
            <div
                class="content-wrapper relative z-10 text-white text-center p-4 sm:p-8 flex flex-col justify-center items-center w-full h-full">
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg font-mono font-extrabold">
                        タイトル</h2>
                    <p
                        class="text-base sm:text-lg md:text-xl mb-8 leading-relaxed drop-shadow-md font-mono font-extrabold">
                        矢印キーでキャラクターを移動し、スペースキーで攻撃<br>
                        敵の攻撃に3回当たるとゲームオーバー。敵を倒してゲームクリア！
                    </p>
                </div>
                <!-- 動画コンテナに装飾を追加: border-4 border-white shadow-lg -->
                <div
                    class="video-player-container relative w-full max-w-2xl mx-auto rounded-lg overflow-hidden shadow-2xl bg-black flex-grow h-0 border-4 border-stone-500">
                    <video autoplay loop muted playsinline class="w-full h-full object-contain"
                        onerror="console.error('Video failed to load:', this.src);">
                        <source src="video/sample.mp4" type="video/mp4">
                        あなたのブラウザは動画タグをサポートしていません。
                    </video>
                    <a href="https://example.com/our-services" target="_blank" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black hover:bg-lime-500 text-lime-500 hover:text-black font-bold py-2 px-6 sm:py-3 sm:px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105
                        font-mono font-extrabold">
                        ステージ2をプレイ！（PC版）
                    </a>
                </div>

                <!-- ステッカー画像 (セクション2用) -->
                <img src="https://placehold.co/100x100/FFFF00/000000?text=Sticker4" alt="Sticker 4"
                    class="absolute top-1/4 left-1/4 transform -translate-x-1/2 -translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow-xl object-cover">
                <img src="https://placehold.co/100x100/FF6347/FFFFFF?text=Sticker5" alt="Sticker 5"
                    class="absolute bottom-1/4 right-1/4 transform translate-x-1/2 translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow-xl object-cover">
            </div>
        </section>

        <!-- セクション3 -->
        <section id="section3"
            class="relative dynamic-height-section flex flex-col justify-center items-center overflow-hidden">
            <!-- 背景画像 -->
            <img src="images/A-magical-otherworldly-space2.jpg" alt="Section 3 Background"
                class="section-background-image">

            <!-- レスポンシブなパディングを追加: sm:p-4 md:p-8 -->
            <div
                class="content-wrapper relative z-10 text-white text-center p-4 sm:p-8 flex flex-col justify-center items-center w-full h-full">
                <div class="max-w-3xl mx-auto">
                    <h2 class="text-3xl sm:text-4xl md:text-5xl font-bold mb-4 drop-shadow-lg font-mono font-extrabold">
                        タイトル</h2>
                    <p
                        class="text-base sm:text-lg md:text-xl mb-8 leading-relaxed drop-shadow-md font-mono font-extrabold">
                        矢印キーでキャラクターを移動し、スペースキーで攻撃<br>
                        敵の攻撃に3回当たるとゲームオーバー。敵を倒してゲームクリア！
                    </p>
                </div>
                <!-- 動画コンテナに装飾を追加: border-4 border-white shadow-lg -->
                <div
                    class="video-player-container relative w-full max-w-2xl mx-auto rounded-lg overflow-hidden shadow-2xl bg-black flex-grow h-0 border-4 border-stone-500">
                    <video autoplay loop muted playsinline class="w-full h-full object-contain"
                        onerror="console.error('Video failed to load:', this.src);">
                        <source src="video/sample.mp4" type="video/mp4">
                        あなたのブラウザは動画タグをサポートしていません。
                    </video>
                    <a href="https://example.com/contact-us" target="_blank" class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 bg-black text-lime-500 hover:text-red-600 py-2 px-6 sm:py-3 sm:px-8 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105
                        font-mono font-extrabold">
                        ステージ3をプレイ！（PC版）
                    </a>
                </div>

                <!-- ステッカー画像 (セクション3用) -->
                <img src="https://placehold.co/100x100/ADD8E6/000000?text=Sticker8" alt="Sticker 8"
                    class="absolute bottom-1/4 left-1/4 transform translate-x-1/2 translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow-xl object-cover">
                <img src="https://placehold.co/100x100/90EE90/000000?text=Sticker9" alt="Sticker 9"
                    class="absolute top-1/2 right-1/4 transform -translate-y-1/2 w-20 h-20 sm:w-24 sm:h-24 md:w-28 md:h-28 rounded-full shadow-xl object-cover">
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 SIW チーム5 All rights reserved.</p>
    </footer>

    <!-- 上に戻るボタン -->
    <a href="#" id="back-to-top-btn" class="fixed bottom-8 right-8 z-50 p-2 w-28 h-28 float-animation hidden">
        <p class="absolute left-1/2 transform -translate-x-1/2 -translate-y-1/2 text-white font-mono font-extrabold text-sm">上に戻る</p>
        <img src="images/character_monster_slime_green.png" alt="上に戻る" class="w-full h-full object-contain">
    </a>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const header = document.getElementById('main-header'); // ヘッダー要素を取得
            const sections = document.querySelectorAll('.dynamic-height-section'); // 高さを調整するセクションを取得
            const backToTopBtn = document.getElementById('back-to-top-btn'); // 上に戻るボタンを取得

            // レイアウトを調整する関数
            function adjustLayout() {
                const headerHeight = header.offsetHeight; // ヘッダーの高さを取得
                document.body.style.paddingTop = `${headerHeight}px`; // bodyにヘッダー分のパディングを追加

                const viewportHeight = window.innerHeight; // ビューポートの高さを取得
                const sectionHeight = viewportHeight - headerHeight; // セクションの計算された高さ

                sections.forEach(section => {
                    section.style.height = `${sectionHeight}px`; // 各セクションに高さを設定
                });
            }

            // 初期ロード時にレイアウトを調整
            adjustLayout();

            // ウィンドウのリサイズ時にレイアウトを再調整
            window.addEventListener('resize', adjustLayout);

            // Intersection Observerの設定 (既存のアニメーション用)
            const observerOptions = {
                root: null, // ビューポートをルートとして使用
                rootMargin: '0px',
                threshold: 0.5 // セクションの50%が見えたときにトリガー
            };

            // Intersection Observerのインスタンスを作成
            const observer = new IntersectionObserver((entries, observer) => {
                entries.forEach(entry => {
                    // 各セクション内のコンテンツラッパー要素を取得
                    const contentWrapper = entry.target.querySelector('.content-wrapper');
                    if (entry.isIntersecting) {
                        // セクションがビューポートに入ったら'active'クラスを追加
                        if (contentWrapper) {
                            contentWrapper.classList.add('active');
                        }
                    } else {
                        // セクションがビューポートから出たら'active'クラスを削除 (アニメーションをリプレイさせたい場合)
                        if (contentWrapper) {
                            contentWrapper.classList.remove('active');
                        }
                    }
                });
            }, observerOptions);

            // 各セクションを監視対象に追加
            sections.forEach(section => {
                observer.observe(section);
            });

            // ナビゲーションリンクのスクロールを滑らかにする
            document.querySelectorAll('nav a').forEach(anchor => {
                anchor.addEventListener('click', function (e) {
                    e.preventDefault(); // デフォルトのアンカーリンク動作を無効化
                    const targetId = this.getAttribute('href'); // リンクのhref属性からターゲットIDを取得
                    const targetElement = document.querySelector(targetId); // ターゲット要素を取得

                    if (targetElement) {
                        // ターゲット要素までスクロール（滑らかなアニメーション付き）
                        window.scrollTo({
                            top: targetElement.offsetTop,
                            behavior: 'smooth'
                        });
                    }
                });
            });


            // スクロールイベントで「上に戻る」ボタンの表示/非表示を切り替える
            window.addEventListener('scroll', () => {
                if (window.scrollY > 200) { // 200pxスクロールしたら表示
                    backToTopBtn.classList.remove('hidden');
                } else {
                    backToTopBtn.classList.add('hidden');
                }
            });

            // 「上に戻る」ボタンのクリックイベント
            backToTopBtn.addEventListener('click', (e) => {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });
        });
    </script>
</body>
</html>
